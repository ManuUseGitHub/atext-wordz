"use strict";exports.__esModule=!0,exports.getWordList=exports.getWStatsObj=exports.getWStatsList=void 0;var sort=require("bystr-sort").sort,addNewWord=function(t){var r=t.dictionary,e=t.length,n=t.currentWord,t=t.options;e&&e>=t.minimumLength&&(void 0===r[n=n.join("").toLowerCase()]&&t.cbOnNewWord(n),t=r[n]||0,r[n]=t+1)},isRomanNumerals=function(t){return/^M{0,3}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})[a-z]?$/i.test(t)&&!/^L[e]$/i.test(t)},bufferizeWordChar=function(t,r,e,n){return!/[�\d\s\\[\]\x20-\x40\-`{-~\xA0-\xBF×Ø÷øʹ͵ͺ;！？♪╚-╬┘-▀\uFF3B\uFF40\uFF5B-\uFF65￥・（）]/.test(e)&&(r.push(t[n]),!0)},fillDictionnary=function(t,r){for(var e={},n=0,o=[],i=0;i<t.length;i++){var s=t[i];bufferizeWordChar(t,o,s,i)||(n=o.length,addNewWord({dictionary:e,length:n,currentWord:o,options:r}),o=[])}return addNewWord({dictionary:e,length:n,currentWord:o,options:r}),e},fixOptions=function(t){var r=t.sortString,e=t.minimumLength,t=t.cbOnNewWord;return{sortString:void 0===r?"":r,minimumLength:void 0===e?2:e,cbOnNewWord:void 0===t?function(t){}:t}},getWStatsList=function(t,r){var r=fixOptions(r=void 0===r?{}:r),e=0,n=fillDictionnary(t,r),t=Object.keys(n).map(function(t){return{order:e++,word:t,number:n[t],length:t.length}}),r=r.sortString;return(r?sort(t,r):t).filter(function(t){return!!t.word&&!isRomanNumerals(t.word)})};exports.getWStatsList=getWStatsList;var getWStatsObj=function(t,r){var r=getWStatsList(t,r=void 0===r?{}:r),e={};return r.map(function(t){e[t.word]={order:t.order,number:t.number,length:t.length}}),e};exports.getWStatsObj=getWStatsObj;var getWordList=function(t,r){return getWStatsList(t,r=void 0===r?{}:r).map(function(t){return t.word})};exports.getWordList=getWordList;